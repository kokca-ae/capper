/*!
 * The Final Countdown for jQuery
 * Copyright (c) 2017-2018 Oleg Konteev
 * site https://nice-scripts.ru
 * author https://vk.com/arturka_v_10
 */

/*
$(document).ready(function(){
			setInterval(function(){
				$('.tk_countdown_time').each(function(){
					var time=$(this).text().split(':');
					var timestamp=time[0]*3600+ time[1]*60+ time[2]*1;
					timestamp+=timestamp>0;
					
					var hours=Math.floor(timestamp/3600);
					var minutes=Math.floor((timestamp- hours*3600)/ 60);
					var seconds=timestamp- hours*3600- minutes*60;
					
				if(hours>23){hours=hours-24;}
				if(hours<10){hours='0'+ hours;}
				if(minutes<10){minutes='0'+ minutes;}
				if(seconds<10){seconds='0'+ seconds;}
				if(timestamp>0){
				$(this).text(hours+':'+ minutes+':'+ seconds);
				}else{
				$(this).text('00:00:01');
				}
					
					
				//console.log(timestamp);
				//console.log('H:i:s > '+time[0]+' : '+time[1]+' : '+time[2]); // H:i:s
				//console.log('hours:minutes:seconds > '+hours+' : '+minutes+' : '+seconds); // H:i:s
				
				});
		},1000);

		})
		*/
		
$(document).ready(function(){
			setInterval(function(){
				$('.tk_countdown_time').each(function(){
					var time=$(this).text().split(':');
					var timestamp=time[0]*3600+ time[1]*60+ time[2]*1;
					timestamp-=timestamp>0;
					
					var days = Number($(this).data('days'));
					let el = $(this).data('element');
					console.log('days element #'+el+' = '+days);
					
					//var days=Number($('.days').text());
					var hours=Math.floor(timestamp/3600);
					var minutes=Math.floor((timestamp- hours*3600)/ 60);
					var seconds=timestamp- hours*3600- minutes*60;
					
					if(hours>23){hours=hours-24;}
					if(hours<10){hours='0'+ hours;}
					if(minutes<10){minutes='0'+ minutes;}
					if(seconds<10){seconds='0'+ seconds;}
					if(timestamp>0){
					$(this).text(hours+':'+ minutes+':'+ seconds);
					//$('#el_'+el).html(days);// здесь дни пишем из полученного дата при условии наличия секунд в timestamp
					}else{
					// здесь дни пишем day 0 при условии отсутствия or < 0 секунд в timestamp
					if(days>0){
					var $sumDay = (days - 1);
					$('#el_'+el).text($sumDay);
					$(this).text('24:00:00');
					}else{
						$(this).text('00:00:00');
						$('#el_'+el).text('0');
					}
					}
					
					console.log(timestamp);
					console.log(time);
					console.log('H:i:s > '+time[0]+' : '+time[1]+' : '+time[2]); // H:i:s
					console.log('');
				
				});
		},1000);

		})
